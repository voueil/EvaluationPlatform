<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>All Project Results</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="styles.css">
  <style>
    body { font-family: "Segoe UI", sans-serif; background: var(--lavender-light); color: var(--text); line-height: 1.5; margin:0; padding:0; }
    .login-container { display:flex; justify-content:center; align-items:center; height:100vh; }
    .login-box { background:#fff; padding:30px; border-radius:16px; box-shadow:0 6px 16px rgba(0,0,0,0.1); max-width:320px; width:100%; text-align:center; }
    .login-box input { width:100%; padding:10px; margin:10px 0; border:1px solid #ccc; border-radius:8px; }
    .login-box button { background: #c6b2eb; color:#fff; padding:10px 16px; border:none; border-radius:16px; font-weight:600; cursor:pointer; transition:0.2s; width:100%; }
    .login-box button:hover { background:#8a6bbf; }
    .back-btn { position: fixed; top: 20px; left: 20px; background: #c6b2eb; color:#fff; padding:12px 22px; border-radius:16px; border:none; font-size:18px; font-weight:600; cursor:pointer; transition:0.2s; z-index:1000; box-shadow:0 3px 10px rgba(0,0,0,0.1); }
    .back-btn:hover { background:#8a6bbf; }
    .project-card { margin-bottom:24px; padding-bottom:12px; border-bottom:1px solid var(--border); }
    .stats { display:flex; flex-wrap:wrap; gap:12px; margin-top:8px; margin-bottom:12px; justify-content:flex-start; }
    .stat { flex:1 1 140px; min-width:140px; background:#fff; border:1px solid var(--border); border-radius:var(--radius); text-align:center; padding:10px; box-shadow:0 4px 10px rgba(0,0,0,0.05); }
    .stat h4 { font-size:0.95rem; color:var(--lavender-dark); margin-bottom:0; }
    .stat p { font-size:1.2rem; font-weight:700; margin-top:8px; color:var(--text); }
    .table-wrap { overflow-x:auto; margin-top:12px; }
    .table { width:100%; border-collapse:collapse; text-align:left; margin-top:8px; }
    .table th, .table td { padding:8px; border-bottom:1px solid var(--border); font-size:0.95rem; text-align:left; }
    .table th { color:var(--lavender-dark); background:var(--lavender-light); }
    header.header { background: linear-gradient(90deg, var(--lavender-dark), var(--lavender)); color: white; text-align: center; padding:24px; box-shadow:0 3px 12px rgba(0,0,0,0.05); border-radius:0 0 24px 24px; }
  </style>
</head>
<body>

<div id="loginScreen" class="login-container">
  <div class="login-box">
    <h2>Enter Password</h2>
    <input type="password" id="passwordInput" placeholder="Password">
    <button id="loginBtn">Submit</button>
  </div>
</div>

<div id="resultsScreen" style="display:none;">
  <button class="back-btn" onclick="history.back()">Back</button>
  <header class="header"><h1>All Project Results</h1></header>
  <main class="container">
    <div id="projectsResults"></div>
  </main>
</div>

<script src="app.js"></script>
<script>
const correctPassword = "ElixirHub2026";
document.getElementById("loginBtn").addEventListener("click",()=>{
  const val = document.getElementById("passwordInput").value;
  if(val === correctPassword){
    document.getElementById("loginScreen").style.display="none";
    document.getElementById("resultsScreen").style.display="block";
    const container = document.getElementById('projectsResults');
    APP.INITIAL_PROJECTS.forEach((project,id)=>{
      const data = APP.aggregate(id);
      const card = document.createElement('div');
      card.className='project-card';
      card.innerHTML=`
        <h3 style="text-align:center;">${project.name}</h3>
        <p style="text-align:center; color:var(--lavender-dark); font-weight:600;">${project.description}</p>
        <div class="stats"></div>
        <div class="table-wrap">
          <table class="table">
            <thead>
              <tr>
                <th>Evaluator</th>
                <th>Total Score</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      `;
      const statsDiv = card.querySelector('.stats');
      APP.CRITERIA.forEach(c=>{
        const stat=document.createElement('div');
        stat.className='stat';
        stat.innerHTML=`<h4>${c.label}</h4><p>${data.averages[c.key]}</p>`;
        statsDiv.appendChild(stat);
      });
      const totalStat=document.createElement('div');
      totalStat.className='stat';
      totalStat.innerHTML=`<h4>Total Average</h4><p>${data.averageTotal}</p>`;
      statsDiv.appendChild(totalStat);
      const tbody=card.querySelector('tbody');
      data.entries.forEach(e=>{
        const tr=document.createElement('tr');
        const date=new Date(e.createdAt).toLocaleString();
        tr.innerHTML=`<td>${e.evaluatorName}</td><td>${e.total}</td><td>${date}</td>`;
        tbody.appendChild(tr);
      });
      container.appendChild(card);
    });
  }else{
    alert("Incorrect Password");
  }
});
</script>

</body>
</html>